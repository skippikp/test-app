{"version":3,"sources":["services/test-api.js","components/select-component/SelectComponent.js","constants/constants.js","actions/actions.js","components/person-info/person-editable-card/PersonEditableCard.js","components/modal-form/ModalForm.js","components/person-info/PersonInfoContainer.js","components/form/Form.js","components/add-person-modal/AddPersonModal.js","components/error-boundry/ErrorBoundry.js","components/app/App.js","reducers/reducer.js","store/store.js","index.js"],"names":["test","_apiBase","getResource","url","a","axios","get","response","status","Error","getStreets","res","data","getHouses","id","getFlats","getPersonByPhone","phone","postPerson","person","options","method","headers","accept","getAllTenants","adressId","bindPerson","personId","AddressId","ClientId","removePerson","bindId","delete","SelectComponent","onOpen","loading","onChange","label","value","Autocomplete","event","isOptionEqualToValue","option","sx","width","xs","sm","md","lg","xl","renderOption","props","key","renderInput","params","TextField","SET_STREETS","SET_HOUSES","SET_FLATS","SET_SELECTED_FLAT","SET_SELECTED_STREET","SET_CLIENT_LIST","SET_SELECTED_HOUSE","setClientList","clientList","type","PersonEditableCard","name","email","handleEdit","handleRemove","Card","minWidth","maxWidth","minHeight","CardContent","Typography","fontSize","color","gutterBottom","mb","CardActions","Button","size","onClick","ModalForm","open","onClose","title","disabled","handleSubmit","submitButtonName","inputs","Dialog","DialogTitle","DialogContent","map","inputProps","DialogActions","mapDispatchToProps","connect","selectedFlat","useState","setOpen","editedPerson","setEditedPerson","then","validPhone","editPersonInputsProps","m","state","target","required","variant","error","className","setAllHouses","houses","setAllFlats","flats","setSelectedFlat","flat","setAllStreets","streets","setSelectedStreet","street","selectedStreet","setSelectedHouse","house","selectedHouse","flatNumber","setFlatNumber","streetsSearchOptions","item","housesSearchOptions","flatsSearchOptions","Stack","direction","alignItems","spacing","catch","err","console","log","length","loadHouses","flatsOnly","filter","typeName","loadFlats","Fragment","style","fontWeight","Id","Name","Phone","Email","BindId","setPerson","numberIsUsed","setNumberIsUsed","submitPerson","result","handleClickOpen","addPersonModalInputsProps","helperText","includes","Tooltip","ErrorBoundry","hasError","this","setState","children","React","Component","App","initialState","reducer","action","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cd1d3074.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nclass TestApi {\r\n\t_apiBase = 'https://dispex.org/api/vtest';\r\n\r\n\tgetResource = async (url) => {\r\n\t\tconst response = await axios.get(`${this._apiBase}${url}`);\r\n\r\n\t\tif (response.status >= 400) {\r\n\t\t\tthrow new Error(`Could not fetch ${url}, received ${response.status}`);\r\n\t\t}\r\n\r\n\t\treturn await response;\r\n\t};\r\n\r\n\tgetStreets = async () => {\r\n\t\tconst res = await this.getResource('/Request/streets');\r\n\t\treturn res.data;\r\n\t};\r\n\r\n\tgetHouses = async (id) => {\r\n\t\tconst res = await this.getResource(`/Request/houses/${id}`);\r\n\t\treturn res.data;\r\n\t};\r\n\r\n\tgetFlats = async (id) => {\r\n\t\tconst res = await this.getResource(`/Request/house_flats/${id}`);\r\n\t\treturn res.data;\r\n\t};\r\n\r\n\tgetPersonByPhone = async (phone) => {\r\n\t\tconst res = await this.getResource(`/HousingStock/client?phone=${phone}`);\r\n\t\treturn res.data;\r\n\t};\r\n\r\n\tpostPerson = async (person) => {\r\n\t\tconst options = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: { 'Content-Type': 'text/json', accept: 'text/plain' },\r\n\t\t\tdata: person,\r\n\t\t\turl: 'https://dispex.org/api/vtest/HousingStock/client',\r\n\t\t};\r\n\t\tconst res = await axios(options);\r\n\r\n\t\tif (res.status >= 400) {\r\n\t\t\tthrow new Error(`Could not fetch ${options.url}, received ${res.status}`);\r\n\t\t}\r\n\r\n\t\treturn res;\r\n\t};\r\n\r\n\tgetAllTenants = async (adressId) => {\r\n\t\tconst response = await this.getResource(\r\n\t\t\t`/HousingStock/clients?addressId=${adressId}`\r\n\t\t);\r\n\t\treturn response;\r\n\t};\r\n\r\n\tbindPerson = async (adressId, personId) => {\r\n\t\tconst options = {\r\n\t\t\tmethod: 'PUT',\r\n\t\t\theaders: { 'Content-Type': 'text/json', accept: '*/*' },\r\n\t\t\tdata: { AddressId: adressId, ClientId: personId },\r\n\t\t\turl: 'https://dispex.org/api/vtest/HousingStock/bind_client',\r\n\t\t};\r\n\t\tconst res = await axios(options);\r\n\r\n\t\tif (res.status >= 400) {\r\n\t\t\tthrow new Error(`Could not fetch ${options.url}, received ${res.status}`);\r\n\t\t}\r\n\r\n\t\treturn res;\r\n\t};\r\n\r\n\tremovePerson = async (bindId) => {\r\n\t\tconst url = `${this._apiBase}/HousingStock/bind_client/${bindId}`;\r\n\t\tconst res = await axios.delete(url);\r\n\r\n\t\tif (res.status >= 400) {\r\n\t\t\tthrow new Error(`Could not fetch ${url}, received ${res.status}`);\r\n\t\t}\r\n\r\n\t\treturn res;\r\n\t};\r\n}\r\n\r\nconst test = new TestApi();\r\n\r\nexport default test;\r\n","import React from 'react';\r\nimport { TextField, Autocomplete } from '@mui/material';\r\n\r\nconst SelectComponent = ({\r\n\tonOpen,\r\n\tloading,\r\n\toptions,\r\n\tonChange,\r\n\tlabel,\r\n\tvalue,\r\n}) => {\r\n\tconst componentRenderOptions = (props, options) => {\r\n\t\treturn (\r\n\t\t\t<li {...props} key={options.id}>\r\n\t\t\t\t{options.label}\r\n\t\t\t</li>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Autocomplete\r\n\t\t\tid=\"select-component\"\r\n\t\t\tonOpen={onOpen}\r\n\t\t\tvalue={value}\r\n\t\t\tonChange={(event, value) => {\r\n\t\t\t\tonChange(value);\r\n\t\t\t}}\r\n\t\t\tisOptionEqualToValue={(option, value) =>\r\n\t\t\t\toption.label === value || option.label === value?.label\r\n\t\t\t}\r\n\t\t\tloading={loading}\r\n\t\t\toptions={options}\r\n\t\t\tsx={{\r\n\t\t\t\twidth: {\r\n\t\t\t\t\txs: 100,\r\n\t\t\t\t\tsm: 150,\r\n\t\t\t\t\tmd: 200,\r\n\t\t\t\t\tlg: 250,\r\n\t\t\t\t\txl: 300,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\trenderOption={componentRenderOptions}\r\n\t\t\trenderInput={(params) => <TextField {...params} label={label} />}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default SelectComponent;\r\n","export const SET_STREETS = 'SET_STREETS';\r\nexport const SET_HOUSES = 'SET_HOUSES';\r\nexport const SET_FLATS = 'SET_FLATS';\r\nexport const SET_SELECTED_FLAT = 'SET_SELECTED_FLAT';\r\nexport const SET_SELECTED_STREET = 'SET_SELECTED_STREET';\r\nexport const SET_CLIENT_LIST = 'SET_CLIENT_LIST';\r\nexport const SET_SELECTED_HOUSE = 'SET_SELECTED_HOUSE';\r\n","import {\r\n\tSET_STREETS,\r\n\tSET_HOUSES,\r\n\tSET_FLATS,\r\n\tSET_SELECTED_FLAT,\r\n\tSET_SELECTED_STREET,\r\n\tSET_CLIENT_LIST,\r\n\tSET_SELECTED_HOUSE,\r\n} from '../constants/constants';\r\n\r\nconst setAllStreets = (streets) => {\r\n\treturn { type: SET_STREETS, streets: streets };\r\n};\r\nconst setAllHouses = (houses) => {\r\n\treturn { type: SET_HOUSES, houses: houses };\r\n};\r\nconst setAllFlats = (flats) => {\r\n\treturn { type: SET_FLATS, flats: flats };\r\n};\r\nconst setSelectedFlat = (flat) => {\r\n\treturn { type: SET_SELECTED_FLAT, selectedFlat: flat };\r\n};\r\nconst setSelectedStreet = (street) => {\r\n\treturn { type: SET_SELECTED_STREET, selectedStreet: street };\r\n};\r\nconst setClientList = (clientList) => {\r\n\treturn { type: SET_CLIENT_LIST, clientList: clientList };\r\n};\r\nconst setSelectedHouse = (house) => {\r\n\treturn { type: SET_SELECTED_HOUSE, selectedHouse: house };\r\n};\r\n\r\nexport {\r\n\tsetAllStreets,\r\n\tsetAllHouses,\r\n\tsetAllFlats,\r\n\tsetSelectedFlat,\r\n\tsetSelectedStreet,\r\n\tsetClientList,\r\n\tsetSelectedHouse,\r\n};\r\n","import React from 'react';\r\nimport Card from '@mui/material/Card';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst PersonEditableCard = ({\r\n\tname,\r\n\tphone,\r\n\temail,\r\n\thandleEdit,\r\n\thandleRemove,\r\n}) => {\r\n\treturn (\r\n\t\t<Card sx={{ minWidth: 150, maxWidth: 500, minHeight: 200 }}>\r\n\t\t\t<CardContent>\r\n\t\t\t\t<Typography sx={{ fontSize: 20 }} color=\"text.secondary\" gutterBottom>\r\n\t\t\t\t\t{name}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography sx={{ fontSize: 20 }} color=\"green\">\r\n\t\t\t\t\t{phone}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\r\n\t\t\t\t\t{email}\r\n\t\t\t\t</Typography>\r\n\t\t\t</CardContent>\r\n\t\t\t<CardActions>\r\n\t\t\t\t<Button size=\"small\" onClick={handleEdit}>\r\n\t\t\t\t\tРедактировать\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button size=\"small\" onClick={handleRemove}>\r\n\t\t\t\t\tУдалить\r\n\t\t\t\t</Button>\r\n\t\t\t</CardActions>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nexport default PersonEditableCard;\r\n","import React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nconst ModalForm = ({\r\n\topen,\r\n\tonClose,\r\n\ttitle,\r\n\tdisabled,\r\n\thandleSubmit,\r\n\tsubmitButtonName,\r\n\tinputs,\r\n}) => {\r\n\treturn (\r\n\t\t<Dialog open={open} onClose={onClose}>\r\n\t\t\t<DialogTitle>{title}</DialogTitle>\r\n\t\t\t<DialogContent>\r\n\t\t\t\t{inputs.map((inputProps, id) => {\r\n\t\t\t\t\treturn <TextField key={id} {...inputProps} />;\r\n\t\t\t\t})}\r\n\t\t\t</DialogContent>\r\n\t\t\t<DialogActions>\r\n\t\t\t\t<Button onClick={onClose}>Отмена</Button>\r\n\t\t\t\t<Button disabled={disabled} onClick={handleSubmit}>\r\n\t\t\t\t\t{submitButtonName}\r\n\t\t\t\t</Button>\r\n\t\t\t</DialogActions>\r\n\t\t</Dialog>\r\n\t);\r\n};\r\n\r\nexport default ModalForm;\r\n","import React, { useState } from 'react';\r\nimport { setClientList } from '../../actions/actions';\r\nimport test from '../../services/test-api';\r\nimport { connect } from 'react-redux';\r\nimport PersonEditableCard from './person-editable-card/PersonEditableCard';\r\nimport ModalForm from '../modal-form/ModalForm';\r\n\r\nconst PersonInfoСardContainer = ({ person, selectedFlat, setClientList }) => {\r\n\tconst { name, phone, email, bindId } = person;\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [editedPerson, setEditedPerson] = useState(person);\r\n\r\n\tconst handleChangeName = (event) => {\r\n\t\tsetEditedPerson((state) => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tname: event.target.value,\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleChangeEmail = (event) => {\r\n\t\tsetEditedPerson((state) => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temail: event.target.value,\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleChangePhone = (event) => {\r\n\t\tsetEditedPerson((state) => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tphone: event.target.value,\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t\ttest.getAllTenants(selectedFlat.id).then((res) => {\r\n\t\t\tif (res.data !== '' && res.status === 200) {\r\n\t\t\t\tsetClientList(res.data);\r\n\t\t\t} else setClientList([]);\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleEdit = () => {\r\n\t\tsetOpen(true);\r\n\t\tsetEditedPerson(person);\r\n\t};\r\n\r\n\tconst submitPerson = () => {\r\n\t\ttest.postPerson(editedPerson).then((res) => {\r\n\t\t\tif (res.data.id !== editedPerson.id) {\r\n\t\t\t\ttest.bindPerson(selectedFlat.id, res.data.id).then(() => {\r\n\t\t\t\t\tremovePerson(person.bindId);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\ttest.getAllTenants(selectedFlat.id).then((res) => {\r\n\t\t\t\tif (res.data !== '' && res.status === 200) {\r\n\t\t\t\t\tsetClientList(res.data);\r\n\t\t\t\t} else setClientList([]);\r\n\t\t\t});\r\n\t\t});\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n\tconst removePerson = (personId) => {\r\n\t\ttest.removePerson(personId).then(() => {\r\n\t\t\ttest.getAllTenants(selectedFlat.id).then((res) => {\r\n\t\t\t\tif (res.data !== '' && res.status === 200) {\r\n\t\t\t\t\tsetClientList(res.data);\r\n\t\t\t\t} else setClientList([]);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst validPhone = (phone) => {\r\n\t\t// eslint-disable-next-line no-useless-escape\r\n\t\tconst phoneRegExp = /^((8|\\+7)[\\- ]?)?(\\(?\\d{3,4}\\)?[\\- ]?)?[\\d\\- ]{5,10}$/;\r\n\t\treturn phoneRegExp.test(phone);\r\n\t};\r\n\r\n\tconst editPersonInputsProps = [\r\n\t\t{\r\n\t\t\tid: 'outlined-name',\r\n\t\t\tlabel: 'Имя',\r\n\t\t\tsx: { m: 1, width: '25ch' },\r\n\t\t\tonChange: handleChangeName,\r\n\t\t\tvalue: editedPerson.name,\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 'outlined-basic',\r\n\t\t\tlabel: 'Телефон',\r\n\t\t\ttype: 'tel',\r\n\t\t\trequired: true,\r\n\t\t\tvariant: 'outlined',\r\n\t\t\tsx: { m: 1, width: '25ch' },\r\n\t\t\terror: !validPhone(editedPerson.phone),\r\n\t\t\tvalue: editedPerson.phone,\r\n\t\t\tonChange: handleChangePhone,\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 'outlined-basic',\r\n\t\t\tlabel: 'Email',\r\n\t\t\tsx: { m: 1, width: '25ch' },\r\n\t\t\tvariant: 'outlined',\r\n\t\t\tvalue: editedPerson.email,\r\n\t\t\tonChange: handleChangeEmail,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className=\"personInfo\">\r\n\t\t\t<PersonEditableCard\r\n\t\t\t\tname={name}\r\n\t\t\t\tphone={phone}\r\n\t\t\t\temail={email}\r\n\t\t\t\thandleEdit={handleEdit}\r\n\t\t\t\thandleRemove={() => removePerson(bindId)}\r\n\t\t\t/>\r\n\t\t\t<ModalForm\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\ttitle={'Изменить данные жильца'}\r\n\t\t\t\tdisabled={!editedPerson.phone || !validPhone(editedPerson.phone)}\r\n\t\t\t\tsubmitButtonName={'Изменить'}\r\n\t\t\t\thandleSubmit={() => submitPerson(editedPerson)}\r\n\t\t\t\tinputs={editPersonInputsProps}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = ({ selectedFlat }) => {\r\n\treturn {\r\n\t\tselectedFlat,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n\tsetClientList,\r\n};\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(PersonInfoСardContainer);\r\n","import React from 'react';\r\nimport test from '../../services/test-api';\r\nimport { Stack } from '@mui/material';\r\nimport SelectComponent from '../select-component/SelectComponent';\r\nimport {\r\n\tsetAllHouses,\r\n\tsetAllFlats,\r\n\tsetSelectedFlat,\r\n\tsetClientList,\r\n\tsetAllStreets,\r\n\tsetSelectedStreet,\r\n\tsetSelectedHouse,\r\n} from '../../actions/actions';\r\nimport { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './Form.css';\r\nimport PersonInfoCardContainer from '../person-info/PersonInfoContainer';\r\n\r\nconst Form = ({\r\n\tstreets,\r\n\thouses,\r\n\tsetAllHouses,\r\n\tflats,\r\n\tsetAllFlats,\r\n\tselectedFlat,\r\n\tsetSelectedFlat,\r\n\tclientList,\r\n\tsetClientList,\r\n\tsetAllStreets,\r\n\tsetSelectedStreet,\r\n\tselectedStreet,\r\n\tsetSelectedHouse,\r\n\tselectedHouse,\r\n}) => {\r\n\tconst [flatNumber, setFlatNumber] = useState('');\r\n\r\n\tconst loadStreets = () => {\r\n\t\ttest\r\n\t\t\t.getStreets()\r\n\t\t\t.then((data) => {\r\n\t\t\t\tsetAllStreets(data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log('Не удается загрузить данные ' + err));\r\n\t};\r\n\r\n\tconst loadHouses = (street) => {\r\n\t\tif (street) {\r\n\t\t\ttest\r\n\t\t\t\t.getHouses(street.id)\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tsetAllHouses(data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => console.log('Не удается загрузить данные ' + err));\r\n\t\t}\r\n\t};\r\n\r\n\tconst loadFlats = (house) => {\r\n\t\tif (house) {\r\n\t\t\ttest\r\n\t\t\t\t.getFlats(house.id)\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tconst flatsOnly = data.filter((item) => item.typeName === 'Квартира');\r\n\t\t\t\t\tsetAllFlats(flatsOnly);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => console.log('Не удается загрузить данные ' + err));\r\n\t\t}\r\n\t};\r\n\r\n\tconst showAllPeople = (adressId) => {\r\n\t\tif (adressId) {\r\n\t\t\ttest\r\n\t\t\t\t.getAllTenants(adressId)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res.data !== '' && res.status === 200) {\r\n\t\t\t\t\t\tsetClientList(res.data);\r\n\t\t\t\t\t} else setClientList([]);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => console.log('Не удается загрузить данные ' + err));\r\n\t\t}\r\n\t};\r\n\r\n\tconst selectStreet = (street) => {\r\n\t\tif (street === null) {\r\n\t\t\tsetSelectedStreet('');\r\n\t\t} else {\r\n\t\t\tsetSelectedStreet(street.label);\r\n\t\t}\r\n\t\tloadHouses(street);\r\n\t\tsetSelectedFlat('');\r\n\t\tsetFlatNumber('');\r\n\t\tsetSelectedHouse('');\r\n\t\tsetClientList([]);\r\n\t};\r\n\r\n\tconst selectHouse = (house) => {\r\n\t\tif (house === null) {\r\n\t\t\tsetSelectedHouse('');\r\n\t\t} else {\r\n\t\t\tsetSelectedHouse(house.label);\r\n\t\t}\r\n\t\tloadFlats(house);\r\n\t\tsetSelectedFlat('');\r\n\t\tsetFlatNumber('');\r\n\t\tsetClientList([]);\r\n\t};\r\n\r\n\tconst selectFlat = (flat) => {\r\n\t\tif (flat === null) {\r\n\t\t\tsetSelectedFlat('');\r\n\t\t\tsetFlatNumber('');\r\n\t\t\tsetClientList([]);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetSelectedFlat(flat);\r\n\t\tsetFlatNumber(flat.label);\r\n\t\tshowAllPeople(flat.id);\r\n\t};\r\n\r\n\tconst streetsSearchOptions = streets.map((item) => {\r\n\t\treturn { label: item.name, id: item.id };\r\n\t});\r\n\r\n\tconst housesSearchOptions = houses.map((item) => {\r\n\t\treturn { label: item.name, id: item.id };\r\n\t});\r\n\r\n\tconst flatsSearchOptions = flats.map((item) => {\r\n\t\treturn { label: item.name, id: item.id };\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className=\"form\">\r\n\t\t\t<Stack\r\n\t\t\t\tdirection={{ xs: 'column', sm: 'row' }}\r\n\t\t\t\talignItems=\"center\"\r\n\t\t\t\tspacing={2}\r\n\t\t\t>\r\n\t\t\t\t<SelectComponent\r\n\t\t\t\t\tonOpen={loadStreets}\r\n\t\t\t\t\tloading={streets.length === 0}\r\n\t\t\t\t\toptions={streetsSearchOptions}\r\n\t\t\t\t\tonChange={selectStreet}\r\n\t\t\t\t\tlabel={'Улица'}\r\n\t\t\t\t/>\r\n\t\t\t\t<SelectComponent\r\n\t\t\t\t\toptions={housesSearchOptions}\r\n\t\t\t\t\tonChange={selectHouse}\r\n\t\t\t\t\tlabel={'Дом'}\r\n\t\t\t\t\tvalue={selectedHouse}\r\n\t\t\t\t/>\r\n\t\t\t\t<SelectComponent\r\n\t\t\t\t\toptions={flatsSearchOptions}\r\n\t\t\t\t\tonChange={selectFlat}\r\n\t\t\t\t\tlabel={'Квартира'}\r\n\t\t\t\t\tvalue={flatNumber}\r\n\t\t\t\t/>\r\n\t\t\t</Stack>\r\n\t\t\t{selectedFlat ? (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<h4\r\n\t\t\t\t\t\tstyle={{ fontWeight: 500, fontSize: 20 }}\r\n\t\t\t\t\t>{`Жильцы ${selectedStreet} ${selectedHouse} квартира: ${selectedFlat.label} :`}</h4>\r\n\t\t\t\t\t<div className=\"personInfo\">\r\n\t\t\t\t\t\t{clientList.map((person, id) => {\r\n\t\t\t\t\t\t\treturn <PersonInfoCardContainer key={id} person={person} />;\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = ({\r\n\tstreets,\r\n\thouses,\r\n\tflats,\r\n\tselectedFlat,\r\n\tselectedStreet,\r\n\tclientList,\r\n\tselectedHouse,\r\n}) => {\r\n\treturn {\r\n\t\tstreets,\r\n\t\thouses,\r\n\t\tflats,\r\n\t\tselectedFlat,\r\n\t\tclientList,\r\n\t\tselectedStreet,\r\n\t\tselectedHouse,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n\tsetAllHouses,\r\n\tsetAllFlats,\r\n\tsetSelectedFlat,\r\n\tsetClientList,\r\n\tsetAllStreets,\r\n\tsetSelectedStreet,\r\n\tsetSelectedHouse,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Form);\r\n","import React, { useState } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport { setClientList } from '../../actions/actions';\r\nimport test from '../../services/test-api';\r\nimport { connect } from 'react-redux';\r\nimport { Tooltip } from '@mui/material';\r\nimport './AddPersonModal.css';\r\nimport ModalForm from '../modal-form/ModalForm';\r\n\r\nconst AddPersonModal = ({\r\n\tselectedFlat,\r\n\tsetClientList,\r\n\tselectedStreet,\r\n\tselectedHouse,\r\n}) => {\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [person, setPerson] = useState({\r\n\t\tId: 0,\r\n\t\tName: '',\r\n\t\tPhone: '',\r\n\t\tEmail: '',\r\n\t\tBindId: 0,\r\n\t});\r\n\tconst [numberIsUsed, setNumberIsUsed] = useState(false);\r\n\r\n\tconst handleChangeName = (event) => {\r\n\t\tsetPerson((state) => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tName: event.target.value,\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleChangePhone = (event) => {\r\n\t\ttest.getPersonByPhone(event.target.value).then((res) => {\r\n\t\t\tif (res.id) {\r\n\t\t\t\tsetNumberIsUsed(true);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetNumberIsUsed(false);\r\n\t\t});\r\n\t\tsetPerson((state) => {\r\n\t\t\treturn { ...state, Phone: event.target.value };\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleChangeEmail = (event) => {\r\n\t\tsetPerson((state) => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tEmail: event.target.value,\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\r\n\tconst bindPerson = (adressId, personId) => {\r\n\t\ttest\r\n\t\t\t.bindPerson(adressId, personId)\r\n\t\t\t.then(() => {\r\n\t\t\t\ttest.getAllTenants(selectedFlat.id).then((res) => {\r\n\t\t\t\t\tif (res.data !== '' && res.status === 200) {\r\n\t\t\t\t\t\tsetClientList(res.data);\r\n\t\t\t\t\t} else setClientList([]);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log('Не удается загрузить данные ' + err));\r\n\t};\r\n\r\n\tconst submitPerson = (person) => {\r\n\t\ttest\r\n\t\t\t.postPerson(person)\r\n\t\t\t.then((result) => {\r\n\t\t\t\tbindPerson(selectedFlat.id, result.data.id);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log('Не удается загрузить данные ' + err));\r\n\t\tsetPerson({\r\n\t\t\tId: 0,\r\n\t\t\tName: '',\r\n\t\t\tPhone: '',\r\n\t\t\tEmail: '',\r\n\t\t\tBindId: 0,\r\n\t\t});\r\n\t\tsetNumberIsUsed(false);\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n\tconst handleClickOpen = () => {\r\n\t\tsetOpen(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t\tsetNumberIsUsed(false);\r\n\t\tsetPerson({\r\n\t\t\tId: 0,\r\n\t\t\tName: '',\r\n\t\t\tPhone: '',\r\n\t\t\tEmail: '',\r\n\t\t\tBindId: 0,\r\n\t\t});\r\n\t\ttest\r\n\t\t\t.getAllTenants(selectedFlat.id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data !== '' && res.status === 200) {\r\n\t\t\t\t\tsetClientList(res.data);\r\n\t\t\t\t} else setClientList([]);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log('Не удается загрузить данные ' + err));\r\n\t};\r\n\r\n\tconst validPhone = (phone) => {\r\n\t\t// eslint-disable-next-line no-useless-escape\r\n\t\tconst phoneRegExp = /^((8|\\+7)[\\- ]?)?(\\(?\\d{3,4}\\)?[\\- ]?)?[\\d\\- ]{5,10}$/;\r\n\t\treturn phoneRegExp.test(phone);\r\n\t};\r\n\r\n\tconst error = !validPhone(person.Phone) || numberIsUsed;\r\n\r\n\tconst addPersonModalInputsProps = [\r\n\t\t{\r\n\t\t\tid: 'outlined-name',\r\n\t\t\tlabel: 'Ф.И.О',\r\n\t\t\tsx: { m: 1, width: '25ch' },\r\n\t\t\tonChange: handleChangeName,\r\n\t\t\tvalue: person.Name,\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 'outlined-basic',\r\n\t\t\tlabel: 'Телефон',\r\n\t\t\ttype: 'tel',\r\n\t\t\trequired: true,\r\n\t\t\tvariant: 'outlined',\r\n\t\t\tsx: { m: 1, width: '25ch' },\r\n\t\t\terror: error,\r\n\t\t\thelperText: numberIsUsed\r\n\t\t\t\t? 'Пользователь с данным номером уже существует.'\r\n\t\t\t\t: error\r\n\t\t\t\t? 'Некорректный номер'\r\n\t\t\t\t: false,\r\n\t\t\tvalue: person.Phone,\r\n\t\t\tonChange: handleChangePhone,\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 'outlined-basic',\r\n\t\t\tlabel: 'Email',\r\n\t\t\tvariant: 'outlined',\r\n\t\t\tsx: { m: 1, width: '25ch' },\r\n\t\t\tvalue: person.Email,\r\n\t\t\tonChange: handleChangeEmail,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className=\"person_modal\">\r\n\t\t\t{selectedStreet !== 'Федюнинского' || !selectedHouse.includes('30') ? (\r\n\t\t\t\t<Tooltip title=\"Вы можете добавлять жильцов только для улицы Федюнинского 30, для всех корпусов\">\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<Button variant=\"outlined\" onClick={handleClickOpen} disabled>\r\n\t\t\t\t\t\t\tДобавить жильца\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t) : (\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tonClick={handleClickOpen}\r\n\t\t\t\t\tdisabled={!selectedFlat}\r\n\t\t\t\t>\r\n\t\t\t\t\tДобавить жильца\r\n\t\t\t\t</Button>\r\n\t\t\t)}\r\n\t\t\t<ModalForm\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\ttitle={'Добавить жильца'}\r\n\t\t\t\tdisabled={!person.Phone || error}\r\n\t\t\t\thandleSubmit={() => submitPerson(person)}\r\n\t\t\t\tsubmitButtonName={'Добавить'}\r\n\t\t\t\tinputs={addPersonModalInputsProps}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = ({ selectedFlat, selectedStreet, selectedHouse }) => {\r\n\treturn {\r\n\t\tselectedFlat,\r\n\t\tselectedStreet,\r\n\t\tselectedHouse,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n\tsetClientList,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddPersonModal);\r\n","import React from 'react';\r\nimport './ErrorBoundry.css';\r\n\r\nclass ErrorBoundry extends React.Component {\r\n\tstate = {\r\n\t\thasError: false,\r\n\t};\r\n\r\n\tcomponentDidCatch() {\r\n\t\tthis.setState({ hasError: true });\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.hasError) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"error\">\r\n\t\t\t\t\t<h2>Sorry</h2>\r\n\t\t\t\t\t<h3>something goes wrong</h3>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn this.props.children;\r\n\t}\r\n}\r\n\r\nexport default ErrorBoundry;\r\n","import React from 'react';\r\nimport Form from '../form/Form';\r\nimport './App.css';\r\nimport AddPersonModal from '../add-person-modal/AddPersonModal';\r\nimport ErrorBoundry from '../error-boundry/ErrorBoundry';\r\n\r\nconst App = () => {\r\n\treturn (\r\n\t\t<div className=\"app\">\r\n\t\t\t<ErrorBoundry>\r\n\t\t\t\t<Form />\r\n\t\t\t\t<AddPersonModal />\r\n\t\t\t</ErrorBoundry>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import {\r\n\tSET_STREETS,\r\n\tSET_HOUSES,\r\n\tSET_FLATS,\r\n\tSET_SELECTED_FLAT,\r\n\tSET_SELECTED_STREET,\r\n\tSET_CLIENT_LIST,\r\n\tSET_SELECTED_HOUSE,\r\n} from '../constants/constants';\r\n\r\nconst initialState = {\r\n\tstreets: [],\r\n\thouses: [],\r\n\tflats: [],\r\n\tselectedFlat: '',\r\n\tclientList: [],\r\n\tselectedStreet: '',\r\n\tselectedHouse: '',\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_STREETS:\r\n\t\t\treturn { ...state, streets: action.streets };\r\n\t\tcase SET_HOUSES:\r\n\t\t\treturn { ...state, houses: action.houses };\r\n\t\tcase SET_FLATS:\r\n\t\t\treturn { ...state, flats: action.flats };\r\n\t\tcase SET_SELECTED_FLAT:\r\n\t\t\treturn { ...state, selectedFlat: action.selectedFlat };\r\n\t\tcase SET_SELECTED_HOUSE:\r\n\t\t\treturn { ...state, selectedHouse: action.selectedHouse };\r\n\t\tcase SET_CLIENT_LIST:\r\n\t\t\treturn { ...state, clientList: action.clientList };\r\n\t\tcase SET_SELECTED_STREET:\r\n\t\t\treturn { ...state, selectedStreet: action.selectedStreet };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reducer;\r\n","import { createStore } from 'redux';\r\nimport reducer from '../reducers/reducer';\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app/App';\nimport { Provider } from 'react-redux';\nimport store from '../src/store/store';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}